[2025-08-10 18:38:21] === ROOM PROCESSING START ===
[2025-08-10 18:38:21] POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 4334
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:38:21] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => 
                )

            [type] => Array
                (
                    [0] => 
                )

            [tmp_name] => Array
                (
                    [0] => 
                )

            [error] => Array
                (
                    [0] => 4
                )

            [size] => Array
                (
                    [0] => 0
                )

        )

)

[2025-08-10 18:38:21] PHP upload_max_filesize: 40M
[2025-08-10 18:38:21] PHP post_max_size: 40M
[2025-08-10 18:38:21] PHP max_file_uploads: 20
[2025-08-10 18:38:21] === ROOM PROCESSING END ===
[2025-08-10 18:38:27] === ROOM PROCESSING START ===
[2025-08-10 18:38:27] POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 4334
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:38:27] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => 
                )

            [type] => Array
                (
                    [0] => 
                )

            [tmp_name] => Array
                (
                    [0] => 
                )

            [error] => Array
                (
                    [0] => 4
                )

            [size] => Array
                (
                    [0] => 0
                )

        )

)

[2025-08-10 18:38:27] PHP upload_max_filesize: 40M
[2025-08-10 18:38:27] PHP post_max_size: 40M
[2025-08-10 18:38:27] PHP max_file_uploads: 20
[2025-08-10 18:38:27] === ROOM PROCESSING END ===
[2025-08-10 18:38:58] === ROOM PROCESSING START ===
[2025-08-10 18:38:58] POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:38:58] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => 
                )

            [type] => Array
                (
                    [0] => 
                )

            [tmp_name] => Array
                (
                    [0] => 
                )

            [error] => Array
                (
                    [0] => 4
                )

            [size] => Array
                (
                    [0] => 0
                )

        )

)

[2025-08-10 18:38:58] PHP upload_max_filesize: 40M
[2025-08-10 18:38:58] PHP post_max_size: 40M
[2025-08-10 18:38:58] PHP max_file_uploads: 20
[2025-08-10 18:38:58] === UPDATE ROOM PROCESSING ===
POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:38:58] Room update data - ID: 3, Hotel ID: 2, Name: dfg, Capacity: 43435345
[2025-08-10 18:38:58] Starting database transaction
[2025-08-10 18:38:58] Room data updated successfully for ID: 3
[2025-08-10 18:38:58] No new images uploaded
[2025-08-10 18:38:58] Transaction committed successfully
[2025-08-10 18:38:58] === UPDATE ROOM PROCESSING END ===
[2025-08-10 18:39:10] === ROOM PROCESSING START ===
[2025-08-10 18:39:10] POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:39:10] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => slider-1024x591-1.jpg
                    [1] => slide4.jpg
                    [2] => hotel-room-beds.jpg
                )

            [type] => Array
                (
                    [0] => image/jpeg
                    [1] => image/jpeg
                    [2] => image/jpeg
                )

            [tmp_name] => Array
                (
                    [0] => C:\xampp\tmp\php896E.tmp
                    [1] => C:\xampp\tmp\php896F.tmp
                    [2] => C:\xampp\tmp\php8970.tmp
                )

            [error] => Array
                (
                    [0] => 0
                    [1] => 0
                    [2] => 0
                )

            [size] => Array
                (
                    [0] => 86416
                    [1] => 189565
                    [2] => 262102
                )

        )

)

[2025-08-10 18:39:10] PHP upload_max_filesize: 40M
[2025-08-10 18:39:10] PHP post_max_size: 40M
[2025-08-10 18:39:10] PHP max_file_uploads: 20
[2025-08-10 18:39:10] === UPDATE ROOM PROCESSING ===
POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
        )

    [update_room] => 
)

[2025-08-10 18:39:10] Room update data - ID: 3, Hotel ID: 2, Name: dfg, Capacity: 43435345
[2025-08-10 18:39:10] Starting database transaction
[2025-08-10 18:39:10] Room data updated successfully for ID: 3
[2025-08-10 18:39:10] Total new images to process: 3
[2025-08-10 18:39:10] Processing image 0: slider-1024x591-1.jpg
[2025-08-10 18:39:10] File data for index 0: Array
(
    [name] => slider-1024x591-1.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php896E.tmp
    [error] => 0
    [size] => 86416
)

[2025-08-10 18:39:10] uploadRoomImage called with: Array
(
    [name] => slider-1024x591-1.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php896E.tmp
    [error] => 0
    [size] => 86416
)

[2025-08-10 18:39:10] Target directory: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/
[2025-08-10 18:39:10] Original filename: slider-1024x591-1.jpg
[2025-08-10 18:39:10] New filename: 6898cb2e1272b_1754843950.jpg
[2025-08-10 18:39:10] Target file: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e1272b_1754843950.jpg
[2025-08-10 18:39:10] Image info: Array
(
    [0] => 1024
    [1] => 591
    [2] => 2
    [3] => width="1024" height="591"
    [bits] => 8
    [channels] => 3
    [mime] => image/jpeg
)

[2025-08-10 18:39:10] Attempting to move file from C:\xampp\tmp\php896E.tmp to C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e1272b_1754843950.jpg
[2025-08-10 18:39:10] File moved successfully
[2025-08-10 18:39:10] Returning relative path: uploads/room_images/6898cb2e1272b_1754843950.jpg
[2025-08-10 18:39:10] Image upload successful: uploads/room_images/6898cb2e1272b_1754843950.jpg (Primary: 0)
[2025-08-10 18:39:10] Image saved to database successfully
[2025-08-10 18:39:10] Processing image 1: slide4.jpg
[2025-08-10 18:39:10] File data for index 1: Array
(
    [name] => slide4.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php896F.tmp
    [error] => 0
    [size] => 189565
)

[2025-08-10 18:39:10] uploadRoomImage called with: Array
(
    [name] => slide4.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php896F.tmp
    [error] => 0
    [size] => 189565
)

[2025-08-10 18:39:10] Target directory: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/
[2025-08-10 18:39:10] Original filename: slide4.jpg
[2025-08-10 18:39:10] New filename: 6898cb2e13af4_1754843950.jpg
[2025-08-10 18:39:10] Target file: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e13af4_1754843950.jpg
[2025-08-10 18:39:10] Image info: Array
(
    [0] => 1920
    [1] => 1024
    [2] => 2
    [3] => width="1920" height="1024"
    [bits] => 8
    [channels] => 3
    [mime] => image/jpeg
)

[2025-08-10 18:39:10] Attempting to move file from C:\xampp\tmp\php896F.tmp to C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e13af4_1754843950.jpg
[2025-08-10 18:39:10] File moved successfully
[2025-08-10 18:39:10] Returning relative path: uploads/room_images/6898cb2e13af4_1754843950.jpg
[2025-08-10 18:39:10] Image upload successful: uploads/room_images/6898cb2e13af4_1754843950.jpg (Primary: 0)
[2025-08-10 18:39:10] Image saved to database successfully
[2025-08-10 18:39:10] Processing image 2: hotel-room-beds.jpg
[2025-08-10 18:39:10] File data for index 2: Array
(
    [name] => hotel-room-beds.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php8970.tmp
    [error] => 0
    [size] => 262102
)

[2025-08-10 18:39:10] uploadRoomImage called with: Array
(
    [name] => hotel-room-beds.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\php8970.tmp
    [error] => 0
    [size] => 262102
)

[2025-08-10 18:39:10] Target directory: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/
[2025-08-10 18:39:10] Original filename: hotel-room-beds.jpg
[2025-08-10 18:39:10] New filename: 6898cb2e15800_1754843950.jpg
[2025-08-10 18:39:10] Target file: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e15800_1754843950.jpg
[2025-08-10 18:39:10] Image info: Array
(
    [0] => 2000
    [1] => 1333
    [2] => 2
    [3] => width="2000" height="1333"
    [bits] => 8
    [channels] => 3
    [mime] => image/jpeg
)

[2025-08-10 18:39:10] Attempting to move file from C:\xampp\tmp\php8970.tmp to C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898cb2e15800_1754843950.jpg
[2025-08-10 18:39:10] File moved successfully
[2025-08-10 18:39:10] Returning relative path: uploads/room_images/6898cb2e15800_1754843950.jpg
[2025-08-10 18:39:10] Image upload successful: uploads/room_images/6898cb2e15800_1754843950.jpg (Primary: 0)
[2025-08-10 18:39:10] Image saved to database successfully
[2025-08-10 18:39:10] Transaction committed successfully
[2025-08-10 18:39:10] === UPDATE ROOM PROCESSING END ===
[2025-08-10 18:39:14] === ROOM PROCESSING START ===
[2025-08-10 18:39:14] POST data: Array
(
)

[2025-08-10 18:39:14] FILES data: Array
(
)

[2025-08-10 18:39:14] PHP upload_max_filesize: 40M
[2025-08-10 18:39:14] PHP post_max_size: 40M
[2025-08-10 18:39:14] PHP max_file_uploads: 20
[2025-08-10 18:39:14] === SET PRIMARY IMAGE PROCESSING === Image ID: 3, Room ID: 3
[2025-08-10 18:39:14] Image verified to belong to room
[2025-08-10 18:39:14] All images reset to non-primary
[2025-08-10 18:39:14] New primary image set successfully
[2025-08-10 18:39:14] === SET PRIMARY IMAGE PROCESSING END ===
[2025-08-10 18:40:27] === ROOM PROCESSING START ===
[2025-08-10 18:40:27] POST data: Array
(
)

[2025-08-10 18:40:27] FILES data: Array
(
)

[2025-08-10 18:40:27] PHP upload_max_filesize: 40M
[2025-08-10 18:40:27] PHP post_max_size: 40M
[2025-08-10 18:40:27] PHP max_file_uploads: 20
[2025-08-10 18:40:27] === DELETE ROOM PROCESSING === ID: 1
[2025-08-10 18:40:27] Found 0 images to delete
[2025-08-10 18:40:27] Room deleted successfully from database
[2025-08-10 18:40:27] Deleted 0 image files
[2025-08-10 18:40:27] === DELETE ROOM PROCESSING END ===
[2025-08-10 18:40:32] === ROOM PROCESSING START ===
[2025-08-10 18:40:32] POST data: Array
(
)

[2025-08-10 18:40:32] FILES data: Array
(
)

[2025-08-10 18:40:32] PHP upload_max_filesize: 40M
[2025-08-10 18:40:32] PHP post_max_size: 40M
[2025-08-10 18:40:32] PHP max_file_uploads: 20
[2025-08-10 18:40:32] === DELETE ROOM PROCESSING === ID: 2
[2025-08-10 18:40:32] Found 0 images to delete
[2025-08-10 18:40:32] Room deleted successfully from database
[2025-08-10 18:40:32] Deleted 0 image files
[2025-08-10 18:40:32] === DELETE ROOM PROCESSING END ===
[2025-08-10 18:40:42] === ROOM PROCESSING START ===
[2025-08-10 18:40:42] POST data: Array
(
)

[2025-08-10 18:40:42] FILES data: Array
(
)

[2025-08-10 18:40:42] PHP upload_max_filesize: 40M
[2025-08-10 18:40:42] PHP post_max_size: 40M
[2025-08-10 18:40:42] PHP max_file_uploads: 20
[2025-08-10 18:40:42] === SET PRIMARY IMAGE PROCESSING === Image ID: 2, Room ID: 3
[2025-08-10 18:40:42] Image verified to belong to room
[2025-08-10 18:40:42] All images reset to non-primary
[2025-08-10 18:40:42] New primary image set successfully
[2025-08-10 18:40:42] === SET PRIMARY IMAGE PROCESSING END ===
[2025-08-10 18:40:47] === ROOM PROCESSING START ===
[2025-08-10 18:40:47] POST data: Array
(
)

[2025-08-10 18:40:47] FILES data: Array
(
)

[2025-08-10 18:40:47] PHP upload_max_filesize: 40M
[2025-08-10 18:40:47] PHP post_max_size: 40M
[2025-08-10 18:40:47] PHP max_file_uploads: 20
[2025-08-10 18:40:47] === DELETE IMAGE PROCESSING === Image ID: 1, Room ID: 3
[2025-08-10 18:40:47] Found image: uploads/room_images/6898c9efc11a1_1754843631.png, Primary: No
[2025-08-10 18:40:47] Image deleted from database
[2025-08-10 18:40:47] Image file deleted: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898c9efc11a1_1754843631.png
[2025-08-10 18:40:47] === DELETE IMAGE PROCESSING END ===
[2025-08-10 18:40:57] === ROOM PROCESSING START ===
[2025-08-10 18:40:57] POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
            [1] => 3
        )

    [update_room] => 
)

[2025-08-10 18:40:57] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => 
                )

            [type] => Array
                (
                    [0] => 
                )

            [tmp_name] => Array
                (
                    [0] => 
                )

            [error] => Array
                (
                    [0] => 4
                )

            [size] => Array
                (
                    [0] => 0
                )

        )

)

[2025-08-10 18:40:57] PHP upload_max_filesize: 40M
[2025-08-10 18:40:57] PHP post_max_size: 40M
[2025-08-10 18:40:57] PHP max_file_uploads: 20
[2025-08-10 18:40:57] === UPDATE ROOM PROCESSING ===
POST data: Array
(
    [id] => 3
    [hotel_id] => 2
    [name] => dfg
    [description] => dfsg
    [max_capacity] => 43435345
    [amenities] => Array
        (
            [0] => 4
            [1] => 3
        )

    [update_room] => 
)

[2025-08-10 18:40:57] Room update data - ID: 3, Hotel ID: 2, Name: dfg, Capacity: 43435345
[2025-08-10 18:40:57] Starting database transaction
[2025-08-10 18:40:57] Room data updated successfully for ID: 3
[2025-08-10 18:40:57] No new images uploaded
[2025-08-10 18:40:57] Transaction committed successfully
[2025-08-10 18:40:57] === UPDATE ROOM PROCESSING END ===
[2025-08-10 19:24:11] === ROOM PROCESSING START ===
[2025-08-10 19:24:11] POST data: Array
(
    [hotel_id] => 2
    [name] => test 2
    [description] => wert
    [max_capacity] => 345
    [amenities] => Array
        (
            [0] => 4
        )

    [add_room] => 
)

[2025-08-10 19:24:11] FILES data: Array
(
    [images] => Array
        (
            [name] => Array
                (
                    [0] => 674e7c978ea6d.jpg
                )

            [type] => Array
                (
                    [0] => image/jpeg
                )

            [tmp_name] => Array
                (
                    [0] => C:\xampp\tmp\phpC144.tmp
                )

            [error] => Array
                (
                    [0] => 0
                )

            [size] => Array
                (
                    [0] => 952213
                )

        )

)

[2025-08-10 19:24:11] PHP upload_max_filesize: 40M
[2025-08-10 19:24:11] PHP post_max_size: 40M
[2025-08-10 19:24:11] PHP max_file_uploads: 20
[2025-08-10 19:24:11] === ADD ROOM PROCESSING ===
[2025-08-10 19:24:11] Room data - Hotel ID: 2, Name: test 2, Capacity: 345
[2025-08-10 19:24:11] Starting database transaction
[2025-08-10 19:24:11] Room inserted successfully with ID: 4
[2025-08-10 19:24:11] Processing image uploads...
[2025-08-10 19:24:11] Total images to process: 1
[2025-08-10 19:24:11] Processing image 0: 674e7c978ea6d.jpg
[2025-08-10 19:24:11] File data for index 0: Array
(
    [name] => 674e7c978ea6d.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\phpC144.tmp
    [error] => 0
    [size] => 952213
)

[2025-08-10 19:24:11] uploadRoomImage called with: Array
(
    [name] => 674e7c978ea6d.jpg
    [type] => image/jpeg
    [tmp_name] => C:\xampp\tmp\phpC144.tmp
    [error] => 0
    [size] => 952213
)

[2025-08-10 19:24:11] Target directory: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/
[2025-08-10 19:24:11] Original filename: 674e7c978ea6d.jpg
[2025-08-10 19:24:11] New filename: 6898d5bb4de0a_1754846651.jpg
[2025-08-10 19:24:11] Target file: C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898d5bb4de0a_1754846651.jpg
[2025-08-10 19:24:11] Image info: Array
(
    [0] => 1280
    [1] => 960
    [2] => 2
    [3] => width="1280" height="960"
    [bits] => 8
    [channels] => 3
    [mime] => image/jpeg
)

[2025-08-10 19:24:11] Attempting to move file from C:\xampp\tmp\phpC144.tmp to C:\xampp\htdocs\all_project\stay_in_puri\cbs/uploads/room_images/6898d5bb4de0a_1754846651.jpg
[2025-08-10 19:24:11] File moved successfully
[2025-08-10 19:24:11] Returning relative path: uploads/room_images/6898d5bb4de0a_1754846651.jpg
[2025-08-10 19:24:11] Image upload successful: uploads/room_images/6898d5bb4de0a_1754846651.jpg (Primary: 1)
[2025-08-10 19:24:11] Image saved to database successfully
[2025-08-10 19:24:11] Transaction committed successfully
[2025-08-10 19:24:11] === ADD ROOM PROCESSING END ===
